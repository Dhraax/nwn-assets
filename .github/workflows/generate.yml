name: Config

on:
  workflow_dispatch:
  #schedule:
  #  - '30 5,17 * * *'

jobs:
  test:
    name: Generate nwn files
    runs-on: ubuntu-latest
    steps:
      #- name: Checkout
      #  uses: actions/checkout@v3
      - name: Setup steamcmd
        uses: CyberAndrii/setup-steamcmd@v1
      - name: Download NeverwinterNights content
        run: steamcmd +@sSteamCmdForcePlatformType linux +force_install_dir ./data/content/ +login ${{ secrets.STEAM_USER }} ${{ secrets.STEAM_PASS }} +app_update 704451 validate +quit
      - name: Download NeverwinterNights windows
        run: steamcmd +@sSteamCmdForcePlatformType windows +force_install_dir ./data/windows/ +login ${{ secrets.STEAM_USER }} ${{ secrets.STEAM_PASS }} +app_update 704452 validate +quit
name: Config

on:
  workflow_dispatch:
  #schedule:
  #  - '30 5,17 * * *'

jobs:
  test:
    name: Generate nwn files
    runs-on: ubuntu-latest
    steps:
      #- name: Checkout
      #  uses: actions/checkout@v3
      - name: Setup steamcmd
        uses: CyberAndrii/setup-steamcmd@v1
      - name: Set Install Directory
        run: mkdir nwn_files && steamcmd force_install_dir ./nwn_files/
      - name: Login to Steam
        run: steamcmd +login ${{ secrets.STEAM_USER }} ${{ secrets.STEAM_PASS }} +quit
      - name: Download NeverwinterNights
        run: steamcmd app_update 704450 validate